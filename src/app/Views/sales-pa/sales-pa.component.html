<div class="w-full h-dvh flex flex-col">
  <div class="p-5 flex flex-col gap-3 items-start">
    <span [routerLink]="['/home']" routerLinkActive="router-link-active" >Back</span>
    <header class="font-bold text-3xl flex flex-col">
      Sales Purchase 
      <span>Agreement</span>
    </header>
  </div>
  <div class="h-dvh bg-secondary rounded-t-4xl px-7 pt-6 overflow-auto">
    <form>
      <div class="mt-2">
        <label>Buyers Name</label>
        <div class="mt-2">
          <ion-item class="rounded-lg">
            <ion-select name="businessUnit" label="Buyers Name" placeholder="Select Buyer">
              @for (buyer of BuyersList; track $index) {
                <ion-select-option value={{buyer.buyers_i_information_id}}>{{buyer.buyers_name}}</ion-select-option>
              }
            </ion-select>
          </ion-item>
        </div>
      </div>
      <div class="mt-2">
        <label>Select Lot</label>
        <div class="mt-1">
          <ion-item class="rounded-lg">
            <ion-select name="businessUnit" label="Select Lot" placeholder="Select Lot">
              <ion-select-option value="sample">SAMPLE</ion-select-option>
            </ion-select>
          </ion-item>
        </div>
      </div>
      <div class="mt-2">
        <label>Payment Type</label>
        <div class="mt-1">
          <ion-item class="rounded-lg">
            <ion-select name="businessUnit" label="Payment Type" placeholder="Payment Type">
              <ion-select-option value="Cash">Cash</ion-select-option>
              <ion-select-option value="Check">Check</ion-select-option>
              <ion-select-option value="Bank">Bank</ion-select-option>
              <ion-select-option value="Deposit">Deposit</ion-select-option>
              <ion-select-option value="Debt">Debt</ion-select-option>
              <ion-select-option value="Credit Balance">Credit Balance</ion-select-option>
            </ion-select>
          </ion-item>
        </div>
      </div>
      <div class="mt-4">
        <label class="block mb-2 font-medium">E-Signature</label>
        <canvas
          #canvas
          height="200"
          class="border border-gray-300 rounded-xl bg-white w-full"></canvas>

        <div class="flex justify-between mt-5 gap-3">
          <button type="button" (click)="clearSignature()" class="w-1/3 !p-3 py-1 bg-red-600 text-white !rounded-xl">
            Clear
          </button>
          <button type="button" (click)="saveSignature()" class="w-2/3 !p-3 bg-green-700 text-white !rounded-xl">
            Confirm Signature
          </button>
        </div>
        <div *ngIf="signatureImg" class="mt-3">
          <label class="block text-sm text-gray-500">Preview:</label>
          <img [src]="signatureImg" alt="Signature Preview" class="border rounded-md w-48" />
        </div>
      </div>
      <button class=" mb-4 w-full !p-4 !text-white bg-primary !mt-4 !rounded-full disabled:!bg-gray-500" disabled>
        Save Changes
      </button>
    </form>
  </div>
</div>